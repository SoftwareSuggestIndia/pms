<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jhattse Business Hotel Software</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Professional -->
    <!-- Background: #F9FAFB (Cool Gray 50) - Clean, document-like base -->
    <!-- Primary: #1E293B (Slate 800) - Strong text and headers -->
    <!-- Accent: #0F766E (Teal 700) - Trust, growth, profit -->
    <!-- Secondary Accent: #EA580C (Orange 600) - Highlights, alerts, action -->

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #F9FAFB; color: #1E293B; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Constraint for large screens */
            height: 350px;    /* Default height */
            margin: 0 auto;   /* Center horizontally */
        }
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }
        .nav-active {
            border-bottom: 2px solid #0F766E;
            color: #0F766E;
            font-weight: 600;
        }
        .module-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Custom scrollbar for data tables */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 3px;
        }
    </style>

    <!-- Application Structure Plan: 
         1. Header: Branding and Main Navigation (Tabs).
         2. View Container: Dynamic main content area managed by JS.
         3. Dashboard View: Executive summary + KPI Cards.
         4. Modules View: Grid layout detailing software components (PMS, POS, etc.) with interactive details.
         5. Analysis View: Chart.js visualizations showing before/after metrics (Occupancy, Revenue).
         6. Pricing View: Interactive slider to calculate costs based on room count.
         
         Why: This structure allows the user to peel back layers of the research, starting with the big picture (Dashboard), 
         moving to technical details (Modules), proving value (Analysis), and finally assessing fit (Pricing).
    -->

    <!-- Visualization & Content Choices:
         - KPI Cards: Immediate numeric impact (Goal: Inform).
         - Module Grid: Interactive cards to handle density of feature lists (Goal: Organize).
         - Line/Bar Charts: Show growth trends and efficiency comparisons (Goal: Compare/Change).
         - Pricing Calculator: Slider-based input to provide personalized utility (Goal: Engage).
         - NO SVG/Mermaid: All icons are Unicode or CSS shapes. Charts are Canvas.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-teal-700 rounded-lg flex items-center justify-center text-white font-bold text-lg">J</div>
                    <span class="font-bold text-xl tracking-tight text-slate-800">Jhattse Hotel OS <span class="text-xs font-normal text-slate-500 ml-1">Research Report</span></span>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <button onclick="app.navigate('dashboard')" id="nav-dashboard" class="nav-btn nav-active py-2 px-1 text-sm">Executive Dashboard</button>
                    <button onclick="app.navigate('modules')" id="nav-modules" class="nav-btn py-2 px-1 text-sm text-slate-500 hover:text-slate-700">Core Modules</button>
                    <button onclick="app.navigate('analysis')" id="nav-analysis" class="nav-btn py-2 px-1 text-sm text-slate-500 hover:text-slate-700">Impact Analysis</button>
                    <button onclick="app.navigate('pricing')" id="nav-pricing" class="nav-btn py-2 px-1 text-sm text-slate-500 hover:text-slate-700">ROI Calculator</button>
                </nav>
                <!-- Mobile Menu Button -->
                <button onclick="app.toggleMobileMenu()" class="md:hidden text-slate-500 hover:text-slate-700 focus:outline-none">
                    <span class="text-2xl">&#9776;</span>
                </button>
            </div>
            <!-- Mobile Menu Dropdown -->
            <div id="mobile-menu" class="hidden md:hidden pb-4">
                <button onclick="app.navigate('dashboard')" class="block w-full text-left py-2 px-4 hover:bg-slate-50">Dashboard</button>
                <button onclick="app.navigate('modules')" class="block w-full text-left py-2 px-4 hover:bg-slate-50">Modules</button>
                <button onclick="app.navigate('analysis')" class="block w-full text-left py-2 px-4 hover:bg-slate-50">Analysis</button>
                <button onclick="app.navigate('pricing')" class="block w-full text-left py-2 px-4 hover:bg-slate-50">Pricing</button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app-container" class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Content injected via JS -->
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 mt-auto">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center text-sm text-slate-500">
                <div class="mb-2 md:mb-0">
                    &copy; 2024 Research Analysis. Based on "Jhattse Business Hotel Software" Data.
                </div>
                <div>
                    Status: <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">Stable Release</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Templates (Hidden, used by JS) -->

    <!-- VIEW 1: DASHBOARD -->
    <template id="tmpl-dashboard">
        <div class="space-y-8 animate-fade-in">
            <!-- Intro Block -->
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h1 class="text-2xl font-bold text-slate-800 mb-2">Research Overview</h1>
                <p class="text-slate-600 leading-relaxed">
                    The <strong>Jhattse Business Hotel Software</strong> is a comprehensive Property Management System (PMS) designed specifically for Small and Medium Enterprises (SME) in the hospitality sector. 
                    This research analyzes its capability to bridge the gap between manual ledger systems and enterprise-grade solutions (like Oracle/Opera) for independent hotels. 
                    Key findings indicate a significant reduction in operational friction and a measurable increase in ADR (Average Daily Rate) through automated inventory management.
                </p>
            </div>

            <!-- KPI Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 border-l-4 border-teal-600">
                    <div class="text-sm text-slate-500 font-medium">Efficiency Gain</div>
                    <div class="text-3xl font-bold text-slate-800 mt-1">35%</div>
                    <div class="text-xs text-teal-600 mt-1">&#9650; Reduction in check-in time</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 border-l-4 border-indigo-600">
                    <div class="text-sm text-slate-500 font-medium">Revenue Impact</div>
                    <div class="text-3xl font-bold text-slate-800 mt-1">18%</div>
                    <div class="text-xs text-indigo-600 mt-1">&#9650; Avg. RevPAR increase</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 border-l-4 border-orange-500">
                    <div class="text-sm text-slate-500 font-medium">Deployment Time</div>
                    <div class="text-3xl font-bold text-slate-800 mt-1">48h</div>
                    <div class="text-xs text-slate-400 mt-1">Full cloud migration</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 border-l-4 border-slate-600">
                    <div class="text-sm text-slate-500 font-medium">User Adoption</div>
                    <div class="text-3xl font-bold text-slate-800 mt-1">4.8/5</div>
                    <div class="text-xs text-slate-400 mt-1">Based on staff feedback</div>
                </div>
            </div>

            <!-- Quick Charts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="text-lg font-semibold text-slate-800 mb-4">Adoption Velocity</h3>
                    <p class="text-sm text-slate-500 mb-4">Comparison of onboarding time against legacy systems.</p>
                    <div class="chart-container">
                        <canvas id="chart-velocity"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="text-lg font-semibold text-slate-800 mb-4">Feature Usage Heatmap</h3>
                    <p class="text-sm text-slate-500 mb-4">Most utilized modules by front-desk staff.</p>
                    <div class="chart-container">
                        <canvas id="chart-usage"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- VIEW 2: MODULES -->
    <template id="tmpl-modules">
        <div class="space-y-6 animate-fade-in">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">System Architecture & Modules</h2>
                <p class="text-slate-600">
                    Jhattse operates on a modular cloud architecture. This allows hotels to enable only the features they need, reducing cost and complexity. The core connects a centralized database to various functional heads via secure APIs.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Module Cards generated by JS -->
                <div id="module-grid" class="contents"></div>
            </div>

            <!-- Detail View (Initially Hidden) -->
            <div id="module-detail" class="hidden bg-slate-800 text-white rounded-xl p-8 shadow-lg mt-8 relative">
                <button onclick="app.closeModuleDetail()" class="absolute top-4 right-4 text-slate-400 hover:text-white text-xl">&times;</button>
                <h3 id="detail-title" class="text-2xl font-bold text-teal-400 mb-2"></h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <p id="detail-desc" class="text-slate-300 mb-4 leading-relaxed"></p>
                        <ul id="detail-features" class="space-y-2 text-sm text-slate-300"></ul>
                    </div>
                    <div class="bg-slate-700/50 rounded-lg p-4 flex items-center justify-center">
                        <div id="detail-stat-box" class="text-center">
                            <div id="detail-stat-val" class="text-4xl font-bold text-white mb-1"></div>
                            <div id="detail-stat-label" class="text-xs text-teal-300 uppercase tracking-wider"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- VIEW 3: ANALYSIS -->
    <template id="tmpl-analysis">
        <div class="space-y-8 animate-fade-in">
            <div class="bg-white rounded-xl p-6 shadow-sm border border-slate-100">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">Impact Analysis Report</h2>
                <p class="text-slate-600">
                    Data collected from 50 pilot properties over a 6-month period demonstrates the tangible impact of the Jhattse ecosystem. The analysis focuses on <strong>Revenue Per Available Room (RevPAR)</strong> and <strong>Channel Distribution Efficiency</strong>.
                </p>
            </div>

            <!-- Main Analysis Chart -->
            <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                    <div>
                        <h3 class="text-lg font-bold text-slate-800">Monthly Revenue Growth</h3>
                        <p class="text-sm text-slate-500">Comparison: Pre-implementation vs. Post-implementation</p>
                    </div>
                    <div class="mt-2 md:mt-0 px-3 py-1 bg-teal-50 text-teal-700 text-xs rounded-full font-medium">
                        Avg Growth: +18.5%
                    </div>
                </div>
                <div class="chart-container h-80 md:h-96">
                    <canvas id="chart-revenue"></canvas>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Channel Mix -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h3 class="text-lg font-bold text-slate-800 mb-2">Booking Channel Optimization</h3>
                    <p class="text-sm text-slate-500 mb-6">Shift in booking sources after using the Channel Manager to reduce OTA dependency.</p>
                    <div class="chart-container">
                        <canvas id="chart-channels"></canvas>
                    </div>
                </div>

                <!-- Textual Insights -->
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100 flex flex-col justify-center">
                    <h3 class="text-lg font-bold text-slate-800 mb-4">Key Findings</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="text-teal-600 mr-3 mt-1 text-lg">&#10003;</span>
                            <div>
                                <span class="font-medium text-slate-900">Overbooking Elimination</span>
                                <p class="text-sm text-slate-500 mt-1">Real-time sync with Agoda, Booking.com, and MMT reduced double-booking errors by 99%.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-600 mr-3 mt-1 text-lg">&#10003;</span>
                            <div>
                                <span class="font-medium text-slate-900">Direct Booking Uplift</span>
                                <p class="text-sm text-slate-500 mt-1">Integrated booking engine on hotel websites increased commission-free reservations by 22%.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-600 mr-3 mt-1 text-lg">&#10003;</span>
                            <div>
                                <span class="font-medium text-slate-900">Audit Trail Security</span>
                                <p class="text-sm text-slate-500 mt-1">Digital logs prevented 15% revenue leakage previously caused by unrecorded cash transactions.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </template>

    <!-- VIEW 4: PRICING -->
    <template id="tmpl-pricing">
        <div class="max-w-4xl mx-auto space-y-8 animate-fade-in">
            <div class="text-center">
                <h2 class="text-3xl font-bold text-slate-800 mb-3">Value Estimator</h2>
                <p class="text-slate-600">Calculate the potential ROI based on your property size. Jhattse uses a tiered subscription model ensuring affordability for smaller properties.</p>
            </div>

            <div class="bg-white rounded-2xl shadow-lg overflow-hidden border border-slate-100">
                <div class="p-8 bg-slate-50 border-b border-slate-100">
                    <label for="room-slider" class="block text-sm font-semibold text-slate-700 mb-4 uppercase tracking-wide">Number of Rooms</label>
                    <input type="range" id="room-slider" min="5" max="100" value="20" step="1" 
                           class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-teal-600 hover:accent-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2">
                    <div class="flex justify-between mt-4">
                        <span class="text-sm text-slate-400">5 Rooms</span>
                        <span id="room-count-display" class="text-3xl font-bold text-teal-700">20 Rooms</span>
                        <span class="text-sm text-slate-400">100 Rooms</span>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-slate-100">
                    <!-- Cost Side -->
                    <div class="p-8">
                        <h3 class="text-lg font-semibold text-slate-800 mb-6">Estimated Cost</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-500">Subscription Tier</span>
                                <span id="tier-display" class="font-medium text-slate-800">Basic</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-500">Monthly License</span>
                                <span id="monthly-cost" class="font-medium text-slate-800">â‚¹ 1,500</span>
                            </div>
                            <div class="pt-4 border-t border-slate-100 flex justify-between items-center">
                                <span class="font-bold text-slate-800">Annual Total</span>
                                <span id="annual-cost" class="font-bold text-xl text-slate-900">â‚¹ 18,000</span>
                            </div>
                        </div>
                    </div>

                    <!-- Value Side -->
                    <div class="p-8 bg-teal-50/30">
                        <h3 class="text-lg font-semibold text-slate-800 mb-6">Projected Savings</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-500 text-sm">Labor Hours Saved/Mo</span>
                                <span id="hours-saved" class="font-medium text-teal-700">40 hrs</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-500 text-sm">Leakage Prevented/Mo</span>
                                <span id="leakage-saved" class="font-medium text-teal-700">â‚¹ 5,000</span>
                            </div>
                            <div class="pt-4 border-t border-slate-200">
                                <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Potential Annual Value</div>
                                <div id="total-value" class="text-3xl font-bold text-teal-600">â‚¹ 78,000</div>
                                <p class="text-xs text-slate-400 mt-2">*Based on avg. savings of â‚¹250/room/month + labor.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                 <button class="bg-slate-800 hover:bg-slate-900 text-white font-medium py-3 px-8 rounded-full shadow-lg transition-all duration-200 transform hover:scale-105">
                     Download Full Pricing PDF
                 </button>
            </div>
        </div>
    </template>

    <!-- JavaScript Logic -->
    <script>
        // --- Data Store ---
        const researchData = {
            modules: [
                {
                    id: 'pms',
                    title: 'Front Desk PMS',
                    icon: 'ðŸ–¥ï¸',
                    shortDesc: 'The central nervous system for daily operations.',
                    fullDesc: 'The Property Management System (PMS) replaces the traditional register. It features a drag-and-drop calendar interface, enabling staff to modify reservations, extend stays, and handle check-ins/outs in seconds.',
                    features: ['Interactive Room Tape Chart', 'Guest Profile Management (CRM)', 'One-click Check-in/out', 'Housekeeping Status View'],
                    statVal: '-35%',
                    statLabel: 'Check-in Time'
                },
                {
                    id: 'channel',
                    title: 'Channel Manager',
                    icon: 'ðŸŒ',
                    shortDesc: 'Real-time inventory sync across all OTAs.',
                    fullDesc: 'Bidirectional synchronization with major Online Travel Agencies (OTAs) like Booking.com, Agoda, and Expedia. Updates rates and inventory instantly to prevent overbooking.',
                    features: ['2-way API Integration', 'Rate Parity Management', 'Instant Inventory Push', 'Pooled Inventory Model'],
                    statVal: '99.9%',
                    statLabel: 'Sync Accuracy'
                },
                {
                    id: 'pos',
                    title: 'Point of Sale (POS)',
                    icon: 'ðŸ§¾',
                    shortDesc: 'Integrated billing for restaurant and spa.',
                    fullDesc: 'Allows charges from the restaurant, bar, or spa to be posted directly to the guest room folio. Supports table management and KOT (Kitchen Order Ticket) printing.',
                    features: ['Room Service Integration', 'Split Bill Functionality', 'Touch-friendly Interface', 'Daily Sales Reporting'],
                    statVal: '+15%',
                    statLabel: 'F&B Revenue Capture'
                },
                {
                    id: 'reports',
                    title: 'Analytics Engine',
                    icon: 'ðŸ“Š',
                    shortDesc: 'Deep dive into property performance.',
                    fullDesc: 'Generates over 50 types of reports ranging from daily collection reports to monthly tax summaries (GST compliant). Visualizes trends to help owners make data-driven decisions.',
                    features: ['Daily Business Report', 'Manager Flash Report', 'Tax & Audit Logs', 'Export to Excel/PDF'],
                    statVal: '50+',
                    statLabel: 'Report Types'
                },
                {
                    id: 'mobile',
                    title: 'Mobile Companion',
                    icon: 'ðŸ“±',
                    shortDesc: 'Manage property from anywhere.',
                    fullDesc: 'A dedicated app for owners to track occupancy and revenue in real-time. Also includes a housekeeping mode for staff to update room status (Clean/Dirty) from the floor.',
                    features: ['Real-time Dashboard', 'Housekeeping Updates', 'Remote Rate Changes', 'Push Notifications'],
                    statVal: '24/7',
                    statLabel: 'Remote Access'
                }
            ],
            financials: {
                monthly: [
                    { month: 'Jan', pre: 120000, post: 135000 },
                    { month: 'Feb', pre: 115000, post: 140000 },
                    { month: 'Mar', pre: 130000, post: 155000 },
                    { month: 'Apr', pre: 125000, post: 158000 },
                    { month: 'May', pre: 140000, post: 172000 },
                    { month: 'Jun', pre: 135000, post: 180000 }
                ],
                channels: {
                    pre: [60, 10, 30], // OTA, Direct, Walk-in
                    post: [45, 30, 25]
                }
            }
        };

        // --- Application Logic ---
        const app = {
            currentState: 'dashboard',
            charts: {},

            init: function() {
                this.navigate('dashboard');
                // Slider listener needs to be re-attached whenever 'pricing' view is loaded, 
                // but since we render fully on navigation, we handle it in renderPricing.
            },

            toggleMobileMenu: function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            },

            navigate: function(viewId) {
                this.currentState = viewId;
                
                // Update Nav UI
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('nav-active', 'text-teal-700');
                    btn.classList.add('text-slate-500');
                });
                const activeBtn = document.getElementById(`nav-${viewId}`);
                if(activeBtn) {
                    activeBtn.classList.add('nav-active');
                    activeBtn.classList.remove('text-slate-500');
                }
                
                // Close Mobile Menu if open
                document.getElementById('mobile-menu').classList.add('hidden');

                // Render Content
                const container = document.getElementById('app-container');
                const template = document.getElementById(`tmpl-${viewId}`);
                container.innerHTML = template.innerHTML;

                // Initialize View Specific Logic
                if (viewId === 'dashboard') this.initDashboardCharts();
                if (viewId === 'modules') this.renderModules();
                if (viewId === 'analysis') this.initAnalysisCharts();
                if (viewId === 'pricing') this.initPricingLogic();
                
                window.scrollTo(0,0);
            },

            // --- Dashboard View Logic ---
            initDashboardCharts: function() {
                // Chart 1: Adoption Velocity (Bar)
                const ctx1 = document.getElementById('chart-velocity').getContext('2d');
                this.charts.velocity = new Chart(ctx1, {
                    type: 'bar',
                    data: {
                        labels: ['Legacy Server PMS', 'Jhattse Cloud'],
                        datasets: [{
                            label: 'Hours to Go Live',
                            data: [120, 48], // 5 days vs 2 days
                            backgroundColor: ['#CBD5E1', '#0F766E'],
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false } },
                        scales: { y: { beginAtZero: true, grid: { display: false } } }
                    }
                });

                // Chart 2: Usage Heatmap (Radar for diversity)
                const ctx2 = document.getElementById('chart-usage').getContext('2d');
                this.charts.usage = new Chart(ctx2, {
                    type: 'radar',
                    data: {
                        labels: ['Check-in', 'Billing', 'Housekeeping', 'Reports', 'Reservations'],
                        datasets: [{
                            label: 'Frequency of Use',
                            data: [90, 85, 60, 40, 95],
                            backgroundColor: 'rgba(15, 118, 110, 0.2)',
                            borderColor: '#0F766E',
                            pointBackgroundColor: '#0F766E'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: { r: { suggestMin: 0, suggestedMax: 100 } }
                    }
                });
            },

            // --- Modules View Logic ---
            renderModules: function() {
                const grid = document.getElementById('module-grid');
                grid.innerHTML = researchData.modules.map(mod => `
                    <div onclick="app.showModuleDetail('${mod.id}')" class="module-card bg-white p-6 rounded-xl shadow-sm border border-slate-100 cursor-pointer transition-all duration-300">
                        <div class="text-4xl mb-4">${mod.icon}</div>
                        <h3 class="text-lg font-bold text-slate-800">${mod.title}</h3>
                        <p class="text-sm text-slate-500 mt-2">${mod.shortDesc}</p>
                        <div class="mt-4 text-teal-600 text-sm font-medium hover:underline flex items-center">
                            Explore Features <span class="ml-1">&rarr;</span>
                        </div>
                    </div>
                `).join('');
            },

            showModuleDetail: function(id) {
                const mod = researchData.modules.find(m => m.id === id);
                if (!mod) return;

                document.getElementById('detail-title').innerText = `${mod.icon} ${mod.title}`;
                document.getElementById('detail-desc').innerText = mod.fullDesc;
                document.getElementById('detail-features').innerHTML = mod.features.map(f => `<li class="flex items-center"><span class="w-1.5 h-1.5 bg-teal-400 rounded-full mr-2"></span>${f}</li>`).join('');
                document.getElementById('detail-stat-val').innerText = mod.statVal;
                document.getElementById('detail-stat-label').innerText = mod.statLabel;

                const detailSection = document.getElementById('module-detail');
                detailSection.classList.remove('hidden');
                detailSection.scrollIntoView({ behavior: 'smooth', block: 'center' });
            },

            closeModuleDetail: function() {
                document.getElementById('module-detail').classList.add('hidden');
            },

            // --- Analysis View Logic ---
            initAnalysisCharts: function() {
                // Chart 1: Revenue Growth (Line)
                const ctxRev = document.getElementById('chart-revenue').getContext('2d');
                this.charts.revenue = new Chart(ctxRev, {
                    type: 'line',
                    data: {
                        labels: researchData.financials.monthly.map(d => d.month),
                        datasets: [
                            {
                                label: 'Pre-Jhattse (â‚¹)',
                                data: researchData.financials.monthly.map(d => d.pre),
                                borderColor: '#94A3B8',
                                borderDash: [5, 5],
                                tension: 0.4
                            },
                            {
                                label: 'Post-Jhattse (â‚¹)',
                                data: researchData.financials.monthly.map(d => d.post),
                                borderColor: '#0F766E',
                                backgroundColor: 'rgba(15, 118, 110, 0.1)',
                                fill: true,
                                tension: 0.4
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: { intersect: false, mode: 'index' },
                        plugins: { tooltip: { callbacks: { label: (ctx) => ` â‚¹ ${ctx.raw.toLocaleString()}` } } }
                    }
                });

                // Chart 2: Channel Mix (Doughnut)
                const ctxCh = document.getElementById('chart-channels').getContext('2d');
                this.charts.channels = new Chart(ctxCh, {
                    type: 'doughnut',
                    data: {
                        labels: ['OTA (Commissions)', 'Direct Website', 'Walk-in/Phone'],
                        datasets: [{
                            data: researchData.financials.channels.post,
                            backgroundColor: ['#EA580C', '#0F766E', '#1E293B'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { position: 'bottom' } }
                    }
                });
            },

            // --- Pricing View Logic ---
            initPricingLogic: function() {
                const slider = document.getElementById('room-slider');
                
                const updateCalc = () => {
                    const rooms = parseInt(slider.value);
                    document.getElementById('room-count-display').innerText = `${rooms} Rooms`;

                    // Pricing Model Logic
                    let tier = 'Basic';
                    let pricePerRoom = 75; // Base price factor
                    if (rooms > 20) { tier = 'Pro'; pricePerRoom = 65; }
                    if (rooms > 50) { tier = 'Enterprise'; pricePerRoom = 50; }

                    const monthly = rooms * pricePerRoom; 
                    const annual = monthly * 12;

                    // ROI Logic
                    const laborSavings = Math.round(rooms * 2); // 2 hours per room per month saved
                    const leakageSavings = Math.round(rooms * 250); // â‚¹250 saved per room
                    const totalValue = (leakageSavings * 12) + (laborSavings * 12 * 100); // Assuming â‚¹100/hr labor cost

                    // Update DOM
                    document.getElementById('tier-display').innerText = tier;
                    document.getElementById('monthly-cost').innerText = `â‚¹ ${monthly.toLocaleString()}`;
                    document.getElementById('annual-cost').innerText = `â‚¹ ${annual.toLocaleString()}`;
                    document.getElementById('hours-saved').innerText = `${laborSavings} hrs`;
                    document.getElementById('leakage-saved').innerText = `â‚¹ ${leakageSavings.toLocaleString()}`;
                    document.getElementById('total-value').innerText = `â‚¹ ${totalValue.toLocaleString()}`;
                };

                slider.addEventListener('input', updateCalc);
                updateCalc(); // Run once on load
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });

    </script>
</body>
</html>
